# 约瑟夫环问题
>据说著名犹太历史学家 Josephus有过以下的故事：在罗马人占领乔塔帕特后，39 个犹太人与Josephus及他的朋友躲到一个洞中，39个犹太人决定宁愿死也不要被敌人抓到，于是决定了一个自杀方式，41个人排成一个圆圈，由第1个人开始报数，每报数到第3人该人就必须自杀，然后再由下一个重新报数，直到所有人都自杀身亡为止。然而Josephus 和他的朋友并不想遵从。首先从一个人开始，越过k-2个人（因为第一个人已经被越过），并杀掉第k个人。接着，再越过k-1个人，并杀掉第k个人。这个过程沿着圆圈一直进行，直到最终只剩下一个人留下，这个人就可以继续活着。问题是，给定了和，一开始要站在什么地方才能避免被处决？Josephus要他的朋友先假装遵从，他将朋友与自己安排在第16个与第31个位置，于是逃过了这场死亡游戏。

将问题抽象一下，`N`个人围成一圈，从第一个人开始报数，每报数到第`x`个人就必须自杀，然后再由下一个重新报数。求第`t`个自杀的人是谁。  

设结果为 : `Josephus(N, x, t)`
很显然，若`t = 1`，则`Josephus(N, x, 1) = x`


用一个实际的数字进行考虑，假设`N = 10`，`x = 3` :   

原始序号为
```
1   2   3   4   5   6   7   8   9   10
```
为了符合程序设计的习惯，改成从0开始
```
0   1   2   3   4   5   6   7   8   9
```
第一个人自杀后
```
0   1       3   4   5   6   7   8   9
```
为了方便，从0开始重置报数
```
7   8       0   1   2   3   4   5   6
```
这样处理后，下一次自杀的人序号仍然是2(从1开始报数则是3)，整理一下
```
0   1   2   3   4   5   6   7   8
```
又是2死了
```
0   1       3   4   5   6   7   8
```
再重置一下报数
```
6   7       0   1   2   3   4   5
```


当`t > 1`的时候，需要根据新的序号求出原来的序号。

从上面的序号变更过程可以看出，新的`a`号是原来的`(a + x) % n`号，`n`为上次自杀前的人数。

所以 :  

`Josephus(N, x, 2) = (Josephus(N - 1, x, 1) + x) % N`  

`Josephus(N, x, 3) = (Josephus(N - 1, x, 2) + x) % N`  

以此类推  

`Josephus(N, x, t) = (Josephus(N - 1, x, t - 1) + x) % N`